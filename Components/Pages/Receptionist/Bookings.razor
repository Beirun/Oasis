@page "/receptionist/bookings"
@using Oasis.Components.ui
@rendermode InteractiveServer

<div class="w-screen h-screen flex flex-col bg-background font-montserrat">
	<RecepNavBar/>
	<div class="w-4/6 h-full flex  flex-col">
		<div class="flex self-start mt-10">
			<Icon Name="Search" size="30px" Color="gray" Class="absolute ml-4 pointer-events-none focus:outline-none" />
			<input type="text" name="name" placeholder="Search bookings"
					class=" shadow-xs shadow-gray-500/50  duration-250 bg-white focus:outline-none w-150 pl-12.5 text-lg p-2 px-4 rounded-md border-b-2 border-gray-400 focus:border-gray-500" />

			<button class="cursor-pointer transition-all duration-200 hover:bg-white/20 bg-white shadow-sm shadow-gray-500/50 flex justify-center items-center focus:outline-none border-b-2 border-gray-400 p-2 rounded-md px-6 ml-5"> <Icon Name="Filter_List" Size="30px" /> Filter</button>

			<NavLink href="none"
					 class="focus:outline-none ml-88 bg-primary/90 transition-all duration-300 shadow-sm border-b-2 border-gray-400 hover:bg-primary/70 p-2 px-4 text-center text-white rounded-md text-md font-semibold">
				Add Booking
			</NavLink>
		</div>
		<div class="w-full  h-[1px] bg-gray-300"></div>
        <div class="w-full bg-white p-5 shadow-gray-500/50 border-b-2 border-gray-400">
            <table class="w-full text-sm">
                <tr class="w-full text-[#6B7280] border-b border-gray-300 pt-10">
                    <td class="h-10">Guest</td>
                    <td class="h-10">Room</td>
                    <td class="h-10">Room Type</td>
                    <td class="h-10">Check In</td>
                    <td class="h-10">Check Out</td>
                    <td class="h-10">Status</td>
                </tr>

                <tr class="w-full h-20 border-b border-gray-300">

                <td class="w-full flex flex-row h-20 justify-center">
                        <div class="size-10 w-11 rounded-full bg-[url('/clouds.png')] bg-cover"></div>
                        <div class="flex flex-col justify-between w-full">
                            <p class="w-full -mb-4 font-semibold">booking.user_fname booking.user_lname</p>
                            <p class="w-full text-[#6B7280]">booking.user_email</p>
                        </div>
                    </td>
                    <td>
                        <p class="w-full">123</p>
                    </td>
                    <td>
                        <p class="w-full">standard</p>
                    </td>
                    <td>
                        <p class="w-full">booking.rsv_checkin</p>
                    </td>
                    <td>
                        <p class="w-full">booking.rsv_checkout</p>
                    </td>
                    <td>
                        <div class="w-25 h-[25px] bg-primary flex justify-center p-2 rounded-full">
                            <p class="text-white">booking.rsv_status</p>
                        </div>
                    </td>
                 </tr>
            </table>
        </div>

        <div class="fixed inset-0 z-50 bg-black/60  transition-all duration-200 items-center flex justify-center" style="@(confirmationOpen ? "opacity: 1;" : "opacity: 0; pointer-events:none;")" @onclick="CloseConfirmationDialog">
            <div @onclick:stopPropagation class="shadow-black/50 flex flex-col fixed h-2/3 px-20 z-55 flex w-2/5 gap-4 border bg-background outline-none focus:outline-none border-gray-300  p-6 shadow-lg transition-all duration-200 rounded-lg " style="@(confirmationOpen ? "opacity: 1; scale: 1;" : "opacity: 0; scale: 0.95;")">
                <Icon Name="Close" @onclick="CloseConfirmationDialog" Size="20px" class="absolute top-4 right-4 cursor-pointer" />

                @*Header*@
                <div class="w-full text-4xl p-10 text-gray-800 justify-center items-center flex border-b border-gray-300 font-bold">
                    New Booking
                </div>
                @*body*@
               <div class="flex h-full w-full -mt-10">
                    <div class="flex flex-row h-full w-full">
                        <div class="w-full h-4/5 bg-gray-300 rounded-xl " style="background-image: url('/standard/standard-3.jpg')">
                        </div>
                    </div>
                    <div class="flex flex-row h-full w-full p-3">
                        <div class="w-50% h-4/5">
                            <CustomDatePicker Placeholder="Check-In Date" @bind-Value="checkInDate" Class="mx-2 mt-2" Id="1" />
                            <CustomDatePicker Placeholder="Check-In Date" @bind-Value="checkInDate" Class="mx-2  mt-8" Id="1" />
                            <CustomDatePicker Placeholder="Check-Out Date" @bind-Value="checkOutDate" Class="mx-2 mt-8" Id="2" />
                                
                            <p class="px-2 mt-4 text-2xl font-bold">Total</p>
                            <p class="px-2  mb-8 text-3xl font-bold">P</p>

                            <NavLink href="none"
                                     class="focus:outline-none bg-primary/90 transition-all duration-300 mt-5   py-3 shadow-sm  hover:bg-primary/70 p-2 px-12 text-center text-white rounded-md text-md font-semibold">
                                Add Booking
                            </NavLink>
                        </div>
                    </div>
               </div>
             </div>
        </div>
	</div>
</div>

@code {

    private DateOnly? checkInDate;
    private DateOnly? checkOutDate;
private bool confirmationOpen = true;

private void CloseConfirmationDialog()
{
    confirmationOpen = false;
    StateHasChanged();
}

}
